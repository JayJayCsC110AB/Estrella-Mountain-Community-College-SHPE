<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Biomedical Engineering â€” SHPE</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body class="page-biomedical">
    <header class="site-header">
      <div class="container nav-wrap">
        <a class="logo" href="/">SHPE</a>
        <nav class="main-nav">
          <a class="nav-btn" href="/">Home</a>
          <a class="nav-btn" href="/about">About</a>
          <a class="nav-btn" href="/join">Join</a>
        </nav>
      </div>
    </header>

    <main class="major-page container">
      <header style="margin-bottom:18px">
        <h1>Biomedical Engineering</h1>
        <p class="muted">Intersection of engineering, biology, and medicine â€” devices, imaging, and biosystems.</p>
      </header>

      <section>
        <h2>Overview</h2>
        <p>Biomedical engineering is the application of engineering principles to biological systems and medical problems. It involves designing and developing medical devices, imaging systems, and biological treatments.</p>  
      </section>

      <section>
        <h2>Stats</h2>
        <ul>
          <li>Average Salary: $70,000 - $140,000</li>
          <li>Employment Rate: 90%</li>
          <li>Happiness index: 7.9/10</li>
          <li>Top Employers: Medtronic, Johnson & Johnson, GE Healthcare, Stryker, Abbott</li>
          <li>Common Job Titles: Biomedical Engineer, Clinical Engineer, Research Scientist, Product Manager</li>
        </ul>
      </section>

      <!-- Interactive circle menu -->
      <section id="bio-interactive" style="margin-bottom:36px; text-align:center">
        <div class="circle-wrapper">
          <button class="circle" id="bio-circle-main">Learn More</button>
          <div class="circle-buttons" id="bio-circle-buttons" aria-hidden="true">
            <button class="circle-btn" data-target="bio-overview">Overview</button>
            <button class="circle-btn" data-target="bio-roadmap">Roadmap</button>
            <button class="circle-btn" data-target="bio-transfer">Transfer</button>
            <button class="circle-btn" data-target="bio-certs">Certs & Tools</button>
            <button class="circle-btn" data-target="bio-resources">Resources</button>
          </div>
        </div>

        <div class="bio-panels">
          <div id="bio-overview" class="bio-panel">
            <h3>Overview</h3>
            <p>Biomedical engineers combine engineering expertise with biological and medical knowledge to solve healthcare challenges. They develop medical devices, design treatment systems, and advance diagnostic imaging technology.</p>
          </div>

          <div id="bio-roadmap" class="bio-panel">
            <h3>Roadmap</h3>
            <ul>
              <li><strong>Foundations:</strong> Biology, chemistry, calculus, physiology</li>
              <li><strong>Core:</strong> Biomechanics, biomaterials, signals processing, biomedical devices</li>
              <li><strong>Advanced:</strong> Medical imaging, tissue engineering, capstone projects</li>
            </ul>
          </div>

          <div id="bio-transfer" class="bio-panel">
            <h3>Transfer & Partners</h3>
            <p>Estrella Mountain Community College partners with universities to provide seamless transfer pathways for biomedical engineering students.</p>
            <a href="https://www.estrellamountain.edu/university-transfer" target="_blank">View Transfer Pathways</a>
          </div>

          <div id="bio-certs" class="bio-panel">
            <h3>Certifications & Tools</h3>
            <p><strong>Key tools:</strong> MATLAB, Python, CAD software, medical imaging toolkits, BioPython.</p>
            <p><strong>Certifications:</strong> Professional Engineering (PE), BMET (Biomedical Equipment Technician).</p>
          </div>

          <div id="bio-resources" class="bio-panel">
            <h3>Resources</h3>
            <ul>
              <li>Research labs</li>
              <li>Clinical partners</li>
            </ul>
          </div>
        </div>
      </section>

      <section style="margin-top: 48px; text-align: center;">
        <h2>Subfields</h2>
        <div class="subfields-grid">
          <button class="subfield-bubble" data-field="medical-devices">Medical<br>Devices</button>
          <button class="subfield-bubble" data-field="biomechanics">Biomechanics</button>
          <button class="subfield-bubble" data-field="imaging">Biomedical<br>Imaging</button>
          <button class="subfield-bubble" data-field="tissue">Tissue<br>Engineering</button>
          <button class="subfield-bubble" data-field="clinical">Clinical<br>Engineering</button>
          <button class="subfield-bubble" data-field="rehab">Rehabilitation<br>Engineering</button>
        </div>

        <div class="subfield-panels">
          <div id="medical-devices" class="subfield-panel">
            <h3>Medical Devices</h3>
            <p>Design and development of medical equipment such as pacemakers, insulin pumps, and diagnostic devices. Engineers work on creating safe, effective, and user-friendly solutions that improve patient outcomes and healthcare delivery.</p>
            <strong>Top Companies:</strong>
            <p>Medtronic, Stryker, Boston Scientific, Zimmer Biomet</p>
          </div>

          <div id="biomechanics" class="subfield-panel">
            <h3>Biomechanics</h3>
            <p>Study of mechanical properties of living systems including joints, muscles, and bone. Biomechanical engineers develop prosthetics, orthotic devices, and rehabilitation equipment to enhance mobility and quality of life for patients.</p>
            <strong>Top Companies:</strong>
            <p>Ã–ssur, ReWalk Robotics, Ottobock, DePuy Synthes</p>
          </div>

          <div id="imaging" class="subfield-panel">
            <h3>Biomedical Imaging</h3>
            <p>Development of imaging technologies like MRI, CT, ultrasound, and PET scanners for diagnostic and research purposes. Imaging engineers focus on improving image quality, resolution, and developing new imaging modalities for better disease detection.</p>
            <strong>Top Companies:</strong>
            <p>GE Healthcare, Philips Healthcare, Siemens Healthineers, Canon Medical</p>
          </div>

          <div id="tissue" class="subfield-panel">
            <h3>Tissue Engineering</h3>
            <p>Creation of artificial tissues and organs to replace damaged or diseased ones through biomaterials and cell biology. This field combines engineering with regenerative medicine to develop scaffolds and biofabrication techniques for transplantation.</p>
            <strong>Top Companies:</strong>
            <p>Organovo Holdings, Videregen Biotechnology, Misonix, Arthrex</p>
          </div>

          <div id="clinical" class="subfield-panel">
            <h3>Clinical Engineering</h3>
            <p>Management and maintenance of biomedical equipment in hospital and clinical settings. Clinical engineers ensure that medical devices function properly, implement new technologies, and improve healthcare delivery systems through technical expertise.</p>
            <strong>Top Companies:</strong>
            <p>HCA Healthcare, Cleveland Clinic, Mayo Clinic, Spectrum Health</p>
          </div>

          <div id="rehab" class="subfield-panel">
            <h3>Rehabilitation Engineering</h3>
            <p>Design of assistive technologies and devices to support people with disabilities in their daily activities. Rehabilitation engineers create solutions like mobility aids, communication devices, and smart home technologies to improve independence and quality of life.</p>
            <strong>Top Companies:</strong>
            <p>DJO LLC, Sunrise Medical, Permobil, Liberator Medical Supply</p>
          </div>
        </div>
      </section>

      <script>
        // Circle menu toggle
        const bioCircleMain = document.getElementById('bio-circle-main');
        const bioCircleButtons = document.getElementById('bio-circle-buttons');
        
        if (bioCircleMain && bioCircleButtons) {
          bioCircleMain.addEventListener('click', () => {
            const isOpen = bioCircleButtons.classList.toggle('open');
            bioCircleButtons.setAttribute('aria-hidden', (!isOpen).toString());
          });

          // Circle button click handlers
          document.querySelectorAll('#bio-interactive .circle-btn').forEach(btn => {
            btn.addEventListener('click', function() {
              const targetId = this.getAttribute('data-target');
              if (targetId) {
                document.querySelectorAll('.bio-panel').forEach(p => p.classList.remove('active'));
                const targetPanel = document.getElementById(targetId);
                if (targetPanel) targetPanel.classList.add('active');
              }
            });
          });
        }

        // Subfield panel toggle
        document.querySelectorAll('.subfield-bubble').forEach(bubble => {
          bubble.addEventListener('click', function() {
            const targetId = this.getAttribute('data-field');
            const targetPanel = document.getElementById(targetId);
            
            // Close all other panels
            document.querySelectorAll('.subfield-panel').forEach(panel => {
              panel.classList.remove('active');
            });
            document.querySelectorAll('.subfield-bubble').forEach(btn => {
              btn.classList.remove('active');
            });
            
            // Open target panel
            if (targetPanel) {
              targetPanel.classList.add('active');
              this.classList.add('active');
            }
          });
        });
      </script>

      <!-- SHPE Chat Area -->
      <section style="margin-top: 64px; text-align: center;">
        <h2>SHPE AI Chat</h2>
        <p style="color: var(--text-muted); margin-bottom: 24px;">Ask questions about Biomedical Engineering and get AI-powered insights.</p>
        <div style="max-width: 850px; margin: 0 auto;">
          <button class="button" style="margin-bottom: 16px;" onclick="toggleChat()">ðŸ’¬ Open Chat</button>
          <div id="chat-panel" class="ai-panel">
            <div class="ai-chat" id="chat-messages">
              <div class="ai-msg-container">
                <div class="ai-msg bot">Welcome to SHPE AI Chat! ðŸ¤– Ask me about biomedical engineering careers, skills, innovations, and opportunities.</div>
              </div>
            </div>
            <div class="ai-form">
              <input type="text" placeholder="Ask about biomedical engineering..." id="chat-input" onkeypress="handleChatInput(event)">
              <button onclick="sendChatMessage()">Send</button>
            </div>
          </div>
        </div>
      </section>

      <script>
        function toggleChat() {
          const panel = document.getElementById('chat-panel');
          panel.classList.toggle('open');
        }

        function deleteMessage(element) {
          element.closest('.ai-msg-container').remove();
        }

        async function sendChatMessage() {
          const input = document.getElementById('chat-input');
          const message = input.value.trim();
          if (message) {
            const messagesDiv = document.getElementById('chat-messages');
            
            const userContainer = document.createElement('div');
            userContainer.className = 'ai-msg-container';
            const userMsg = document.createElement('div');
            userMsg.className = 'ai-msg user';
            userMsg.textContent = message;
            const userDeleteBtn = document.createElement('button');
            userDeleteBtn.className = 'msg-delete-btn';
            userDeleteBtn.innerHTML = '&times;';
            userDeleteBtn.onclick = function() { deleteMessage(this); };
            userContainer.appendChild(userMsg);
            userContainer.appendChild(userDeleteBtn);
            messagesDiv.appendChild(userContainer);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
            input.value = '';

            try {
              const response = await fetch(`/api/chat?q=${encodeURIComponent(message)}&major=biomedical`);
              const data = await response.json();
              
              const botContainer = document.createElement('div');
              botContainer.className = 'ai-msg-container';
              const botMsg = document.createElement('div');
              botMsg.className = 'ai-msg bot';
              botMsg.textContent = data.answer || 'I can help you learn about Biomedical Engineering!';
              const botDeleteBtn = document.createElement('button');
              botDeleteBtn.className = 'msg-delete-btn';
              botDeleteBtn.innerHTML = '&times;';
              botDeleteBtn.onclick = function() { deleteMessage(this); };
              botContainer.appendChild(botMsg);
              botContainer.appendChild(botDeleteBtn);
              messagesDiv.appendChild(botContainer);
              messagesDiv.scrollTop = messagesDiv.scrollHeight;
            } catch (err) {
              console.error('Chat error:', err);
            }
          }
        }

        function handleChatInput(event) {
          if (event.key === 'Enter') sendChatMessage();
        }
      </script>
  </body>
</html>
