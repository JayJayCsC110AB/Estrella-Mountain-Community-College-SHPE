/* Base reset */
* { box-sizing: border-box; }
html, body { height: 100%; }
:root{
  --bg-1: #eef2ff;
  --bg-2: #e0f2fe;
  --text: #0f172a;
  --muted: #64748b;
  --accent: #2563eb;
}
body {
  margin: 0;
  font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, Arial;
  background: linear-gradient(120deg,var(--bg-1) 0%, var(--bg-2) 100%);
  color: var(--text);
  -webkit-font-smoothing:antialiased;
}

/* Major-specific page backgrounds */
body.page-biomedical { background: linear-gradient(120deg, rgba(22, 163, 74, 0.08) 0%, rgba(22, 163, 74, 0.12) 100%); }
body.page-chemical { background: linear-gradient(120deg, rgba(251, 146, 60, 0.08) 0%, rgba(251, 146, 60, 0.12) 100%); }
body.page-civil { background: linear-gradient(120deg, rgba(244, 114, 182, 0.08) 0%, rgba(244, 114, 182, 0.12) 100%); }
body.page-electrical { background: linear-gradient(120deg, rgba(239, 68, 68, 0.08) 0%, rgba(239, 68, 68, 0.12) 100%); }
body.page-mechanical { background: linear-gradient(120deg, rgba(124, 63, 0, 0.08) 0%, rgba(124, 63, 0, 0.12) 100%); }
body.page-materials { background: linear-gradient(120deg, rgba(124, 58, 237, 0.08) 0%, rgba(124, 58, 237, 0.12) 100%); }

/* Layout helpers */
.container { max-width:1100px; margin: 0 auto; padding: 0 20px; }
.nav-wrap { display:flex; align-items:center; justify-content:space-between; padding:12px 0; }

/* Header / nav */
.site-header { position:sticky; top:0; backdrop-filter: blur(6px); background: linear-gradient(180deg, rgba(255,255,255,0.6), rgba(255,255,255,0.4)); box-shadow: 0 1px 0 rgba(2,6,23,0.04); z-index:40; }
.logo { font-weight:800; font-size:1.1rem; color:var(--text); text-decoration:none; }
.main-nav { display:flex; gap:10px; align-items:center; }
.nav-btn { font-size:0.9rem; padding:8px 12px; background: rgba(255,255,255,0.95); border-radius:999px; color:var(--text); text-decoration:none; border:1px solid rgba(15,23,42,0.04); box-shadow:0 1px 2px rgba(2,6,23,0.04); transition:transform .12s ease, background .12s ease; }
.nav-btn:hover { transform:translateY(-3px); background:#fff; }

/* Hero */
main#home { padding-top: 32px; }
.hero { text-align:center; padding:64px 0 24px; }
.hero-title { font-weight: 900; margin: 0; font-size: clamp(3rem, 10vw, 6rem); line-height: 0.9; letter-spacing: -0.02em; }
.hero-sub { margin-top: 10px; color: var(--muted); font-size: 1.05rem; }

/* Cards */
.cards-grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap:18px; width:100%; max-width:1000px; margin:18px auto 48px; }
.card { display:flex; align-items:center; justify-content:center; flex-direction:column; background: #ffffff; border-radius: 12px; padding: 18px; text-align:center; text-decoration:none; color:var(--text); border:1px solid rgba(2,6,23,0.04); box-shadow: 0 6px 18px rgba(2,6,23,0.04); transition: transform .16s ease, box-shadow .16s ease; }
.card:hover { transform: translateY(-6px) scale(1.02); box-shadow: 0 10px 30px rgba(2,6,23,0.06); }
.card strong { display:block; font-size:1rem; }
.card .muted{ margin-top:8px; color:var(--muted); font-size:0.95rem }

/* Circular card layout */
.cards-grid { display:flex; flex-wrap:wrap; gap:18px; justify-content:center; align-items:center; width:100%; max-width:1000px; margin:18px auto 48px; }
.card { width:140px; height:140px; border-radius:50%; padding:0; }
.card .abbr { font-weight:900; color:#fff; font-size:1.2rem; }
.card .muted { color: rgba(255,255,255,0.95); font-size:0.85rem; margin-top:6px; }
.card .muted { display:block; padding:8px; text-align:center; }

/* Color mappings per major */
.card-bioomedical, .card-bio { background:#16a34a; }
.card-biomedical, .card-bio { background:#16a34a; }
.card-biomedical .muted { color: rgba(255,255,255,0.9) }
.card-chemical { background:#fb923c; }
.card-civil { background:#f472b6; }
.card-electrical { background:#ef4444; }
.card-mechanical { background:#7c3f00; }
.card-materials { background:#7c3aed; }

/* Support both with/without 'card-' prefixes in case keys vary */
.card-biomedical, .card-bio, .card-chemical, .card-civil, .card-electrical, .card-mechanical, .card-materials { color:#fff; border: none }

@media (max-width:600px){
  .card { width:120px; height:120px }
  .card .abbr { font-size:1rem }
}

/* Search */
.search-bar { display:flex; justify-content:center; padding:12px 0 6px; }
.search-bar input[type="search"]{ width:100%; max-width:720px; padding:12px 14px; border-radius:10px; border:1px solid rgba(2,6,23,0.06); box-shadow: inset 0 1px 0 rgba(255,255,255,0.6); font-size:1rem }

/* Major page and utilities */
.hidden { display:none; }
.major-page { padding: 48px 0; max-width:900px; margin: 0 auto 48px; }
.button { padding:8px 14px; border-radius:8px; background:var(--accent); color:#fff; border:none; cursor:pointer; }

/* Footer */
.site-footer { text-align: center; padding: 32px 0; color: var(--muted); font-size: 0.9rem; }

/* Biomedical circle menu */
.circle-wrapper { display:flex; flex-direction:column; align-items:center; gap:12px; }
.circle { width:140px; height:140px; border-radius:50%; background:var(--accent); color:#fff; border:none; font-weight:700; font-size:1rem; display:flex; align-items:center; justify-content:center; box-shadow: 0 8px 24px rgba(37,99,235,0.18); cursor:pointer; }
.circle:active { transform: scale(.98); }
.circle-buttons { display:flex; gap:12px; flex-wrap:wrap; justify-content:center; max-width:640px; margin-top:8px; transition:opacity .18s ease, transform .18s ease; opacity:0; transform: translateY(-6px) scale(.98); pointer-events:none; }
.circle-buttons.open { opacity:1; transform: translateY(0) scale(1); pointer-events:auto; }
.circle-btn { width:110px; height:48px; border-radius:999px; background:#fff; border:1px solid rgba(2,6,23,0.06); color:var(--text); padding:8px 12px; cursor:pointer; box-shadow: 0 6px 14px rgba(2,6,23,0.04); }

.bio-panels { margin-top:18px; display:flex; flex-direction:column; gap:12px; align-items:center; }
.bio-panel { width:100%; max-width:820px; background:#fff; border-radius:10px; padding:16px; border:1px solid rgba(2,6,23,0.04); box-shadow: 0 6px 18px rgba(2,6,23,0.04); display:none; }
.bio-panel.active { display:block; }

@media (max-width:520px){
  .circle { width:120px; height:120px; font-size:0.92rem }
  .circle-btn { width:100px }
}

/* Subfields grid */
.subfields-grid { display:flex; flex-wrap:wrap; gap:18px; justify-content:center; align-items:center; width:100%; max-width:900px; margin:24px auto; }
.subfield-bubble { width:140px; height:140px; border-radius:50%; background:var(--accent); color:#fff; border:none; font-weight:700; font-size:1rem; display:flex; align-items:center; justify-content:center; text-align:center; padding:12px; box-shadow: 0 8px 24px rgba(37,99,235,0.18); cursor:pointer; transition: transform .16s ease, box-shadow .16s ease; }
.subfield-bubble:hover { transform: translateY(-6px) scale(1.05); box-shadow: 0 12px 32px rgba(37,99,235,0.25); }
.subfield-bubble:active { transform: scale(.98); }

@media (max-width:600px) {
  .subfield-bubble { width:120px; height:120px; font-size:0.9rem; }
}
.ai-panel { display:none; width:100%; max-width:820px; background:#fff; border-radius:10px; padding:12px; border:1px solid rgba(2,6,23,0.04); box-shadow:0 6px 18px rgba(2,6,23,0.04); }
.ai-panel.open { display:block; }
.ai-chat { min-height:120px; max-height:300px; overflow:auto; border-radius:8px; padding:10px; background:#f8fafc; border:1px solid rgba(2,6,23,0.03); }
.ai-msg { margin:6px 0; }
.ai-msg.user { text-align:right; color:var(--text); }
.ai-msg.bot { text-align:left; color:var(--muted); }
.ai-form { display:flex; gap:8px; margin-top:8px }
.ai-form input[type="text"]{ flex:1; padding:8px 10px; border-radius:8px; border:1px solid rgba(2,6,23,0.06) }
.ai-form button{ padding:8px 12px; border-radius:8px; background:var(--accent); color:#fff; border:none; cursor:pointer }
